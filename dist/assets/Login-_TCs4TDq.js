import{a as g,j as e,S as b,R as j,B as a,G as w}from"./index-DSiRzrbg.js";import{u as L,a as S,E as C,A as N}from"./AuthInputPassword-B_mzlYOa.js";import{u as q,L as y}from"./lock_open-DO3R0X1-.js";import{B as v,F as B}from"./index-C0teDyxI.js";import{c as H}from"./clsx-B-dksMZM.js";import"./useMutation-CqTlZdcE.js";import"./utils-km2FGkQ4.js";import"./chunk-DEQZ7DVA-L72d_YGu.js";const k="_form_oeaqa_1",E="_form__wrapper_oeaqa_14",M="_form__title_oeaqa_24",V="_form__btm_oeaqa_28",W="_form__text_oeaqa_41",i={form:k,form__wrapper:E,form__title:M,form__btm:V,form__text:W},Z=()=>{const t=q(),{register:s,handleSubmit:l,formState:{errors:n},setError:o,clearErrors:d}=L(),{mutate:u,isLoading:h}=S();return{register:s,handleSubmit:l,formState:{errors:n},onSubmit:x=>{d(),u(x,{onSuccess:r=>{g.userData=r==null?void 0:r.data,g.login(),t({position:"top center",duration:3e3,isClosable:!0,title:"Вы успешно вошли в аккаунт",status:"success"})},onError:r=>{var m,_;const p=((_=(m=r==null?void 0:r.response)==null?void 0:m.data)==null?void 0:_.detail)||"Ошибка входа";o("login",{message:p}),o("password",{message:p})}})},isPending:h}},F="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clipPath='url(%23clip0_640_56)'%3e%3cpath%20d='M20%204H4C2.9%204%202.01%204.9%202.01%206L2%2018C2%2019.1%202.9%2020%204%2020H20C21.1%2020%2022%2019.1%2022%2018V6C22%204.9%2021.1%204%2020%204ZM20%2018H4V8L12%2013L20%208V18ZM12%2011L4%206H20L12%2011Z'%20fill='white'/%3e%3cpath%20d='M20%204H4C2.9%204%202.01%204.9%202.01%206L2%2018C2%2019.1%202.9%2020%204%2020H20C21.1%2020%2022%2019.1%2022%2018V6C22%204.9%2021.1%204%2020%204ZM20%2018H4V8L12%2013L20%208V18ZM12%2011L4%206H20L12%2011Z'%20fill='%236E8BB7'%20fill-opacity='0.7'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_640_56'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",I=({isPending:t,text:s})=>e.jsx(v,{borderRadius:"8px",fontSize:"16px",fontWeight:"600",lineHeight:"32px",letterSpacing:"-0.006em",width:"100%",background:t?"gray.200":"#0067F4",color:t?"gray.500":"white",_hover:{background:"blue.600"},_active:{background:"blue.700"},_disabled:{background:"gray.200"},type:"submit",disabled:t,children:t?e.jsx(b,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"md"}):s}),R="_wrapper_17254_1",A="_inputWrapper_17254_7",P="_label_17254_17",z="_input_17254_7",O="_error_17254_49",D="_required_17254_60",c={wrapper:R,inputWrapper:A,label:P,input:z,error:O,required:D},G=j.forwardRef(({name:t,error:s,rest:l,minLength:n,required:o,alt:d,src:u,register:h=()=>{},placeholder:f,type:x,label:r,id:p,...m},_)=>e.jsxs(a,{className:c.wrapper,children:[e.jsxs(a,{display:"flex",flexDirection:"column",children:[e.jsxs("label",{className:c.label,htmlFor:p,children:[r,e.jsx("span",{className:c.required,children:"*"})]}),e.jsxs(a,{className:c.inputWrapper,children:[e.jsx("img",{src:u,alt:d,width:24,height:24}),e.jsx("input",{className:H(c.input,{[c.error]:!!(s!=null&&s.message)}),...l,ref:_,...h(t),...m,type:x,id:p,minLength:n||2,placeholder:f,required:o})]})]}),(s==null?void 0:s.message)&&e.jsxs(a,{display:"flex",alignItems:"center",marginTop:"8px",children:[e.jsx("img",{src:C,alt:"error",width:16,height:16}),e.jsx("p",{style:{color:"red",marginLeft:"8px"},children:s==null?void 0:s.message})]})]}));function T(t){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391 480c-19.52 0-46.94-7.06-88-30-49.93-28-88.55-53.85-138.21-103.38C116.91 298.77 93.61 267.79 61 208.45c-36.84-67-30.56-102.12-23.54-117.13C45.82 73.38 58.16 62.65 74.11 52a176.3 176.3 0 0 1 28.64-15.2c1-.43 1.93-.84 2.76-1.21 4.95-2.23 12.45-5.6 21.95-2 6.34 2.38 12 7.25 20.86 16 18.17 17.92 43 57.83 52.16 77.43 6.15 13.21 10.22 21.93 10.23 31.71 0 11.45-5.76 20.28-12.75 29.81-1.31 1.79-2.61 3.5-3.87 5.16-7.61 10-9.28 12.89-8.18 18.05 2.23 10.37 18.86 41.24 46.19 68.51s57.31 42.85 67.72 45.07c5.38 1.15 8.33-.59 18.65-8.47 1.48-1.13 3-2.3 4.59-3.47 10.66-7.93 19.08-13.54 30.26-13.54h.06c9.73 0 18.06 4.22 31.86 11.18 18 9.08 59.11 33.59 77.14 51.78 8.77 8.84 13.66 14.48 16.05 20.81 3.6 9.53.21 17-2 22-.37.83-.78 1.74-1.21 2.75a176.49 176.49 0 0 1-15.29 28.58c-10.63 15.9-21.4 28.21-39.38 36.58A67.42 67.42 0 0 1 391 480z"},child:[]}]})(t)}const s2=()=>{const{onSubmit:t,handleSubmit:s,register:l,isPending:n,formState:{errors:o}}=Z();return e.jsxs(a,{className:i.form,children:[e.jsx(B,{onSubmit:s(t),as:"form",children:e.jsxs(a,{className:i.form__wrapper,children:[e.jsx(a,{className:i.form__top,children:e.jsx("h1",{className:i.form__title,children:"Войти в систему"})}),e.jsxs(a,{className:i.form__btm,children:[e.jsx(G,{label:"Имя пользователя",id:"login",type:"access_token",placeholder:"Введите e-mail",src:F,alt:"email",register:l,name:"login",user:"s.form__input_title",error:o.login,required:!0}),e.jsx(N,{label:"Пароль",id:"password",src:y,alt:"lockOpen",placeholder:"Введите пароль",register:l,name:"password",error:o.password,required:!0}),e.jsx(a,{className:i.btnWrapper,children:e.jsx(I,{height:"50px",text:"Войти",isPending:n})})]})]})}),e.jsxs(a,{className:i.form__text,children:[e.jsxs("p",{children:[e.jsx(T,{})," Служба поддержки"]}),e.jsx("p",{children:"+998 (90) 910-72-20"})]})]})};export{s2 as Login,s2 as default};
