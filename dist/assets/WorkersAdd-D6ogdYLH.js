import{r as g,u,j as e,F as h,L as j,B as r}from"./index-DSiRzrbg.js";import{s as a}from"./CategoriesAdd.module-B0JfrsHW.js";import{H as _}from"./HeaderBox-CQYMr7hZ.js";import{I as f,H as N,L as A,C as b,a as B,_ as t}from"./MainProd-DW19dvKP.js";import{r as I}from"./index-C0teDyxI.js";const S=()=>{const[n,c]=g.useState(""),l=u(),m=async d=>{d.preventDefault();const i=localStorage.getItem("restaurant_id");if(!i||!n){t.error("Все поля обязательны для заполнения.");return}const x={name:n,restaurant_id:i};try{const s=await I.post("/catalog",x);s.data&&s.data.errors?s.data.errors.name===""?t.error("Введите название"):t.error("Ошибка при создании категории"):(t.success("Категория успешно создана"),l("/admin/workers/"))}catch(s){if(s.response&&s.response.data){const{status:o,data:p}=s.response;o===400?t.error(`Ошибка 400: ${p.description}`):o===404?t.error("Ошибка 404: Не найдено"):o===500?t.error("Ошибка 500: Внутренняя ошибка сервера"):t.error(`Ошибка: ${s.message}`)}else t.error(`Ошибка: ${s.message}`)}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("form",{onSubmit:m,children:[e.jsx(N,{title:e.jsx(_,{path:"/admin/workers",gg:"Каталог",hh:"Создать",icon:e.jsx(h,{})}),headerBtn2:e.jsx(j,{to:"/admin/workers",style:{display:"flex",alignItems:"center",color:"red",gap:"10px",border:"1px solid red",padding:"5px",borderRadius:"5px",fontSize:"16px"},children:"Отменить"})}),e.jsxs(r,{className:a.categoriesAdd,children:[e.jsx(r,{className:a.categoriesAdd__underHead,children:e.jsx(r,{className:a.categoriesAdd__text,children:e.jsx("p",{children:"Общие Сведения"})})}),e.jsx(r,{className:a.categoriesAdd__main_cont,children:e.jsxs(r,{className:a.categoriesAdd__cont,children:[e.jsx(r,{className:a.categoriesAdd__top,children:e.jsx("h1",{children:"Общие настройки"})}),e.jsxs(r,{className:a.categoriesAdd__bottom,children:[e.jsx(r,{className:a.categoriesAdd__bottom_lang,children:e.jsx(A,{})}),e.jsxs(r,{className:a.categoriesAdd__right,children:[e.jsx(b,{type:"text",value:n,InputPlaceHolder:"Название...",onChange:d=>c(d.target.value),placeholder:"Name"}),e.jsx(B,{BgColor:"blue",type:"submit",BtnContent:"Сохранить"})]})]})]})})]})]})]})};export{S as WorkersAdd,S as default};
