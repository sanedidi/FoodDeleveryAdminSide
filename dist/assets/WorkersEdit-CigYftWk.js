import{u as h,b as u,r as d,j as e,L as g,B as s}from"./index-DSiRzrbg.js";import{I as j,H as _,L as f,C as y,a as b,_ as i}from"./MainProd-DW19dvKP.js";import{r as l}from"./index-C0teDyxI.js";import{s as a}from"./CategoriesAdd.module-B0JfrsHW.js";const w=()=>{const m=h(),{workersId:t}=u(),[r,c]=d.useState({id:t,name:""});d.useEffect(()=>{(async()=>{try{const x=(await l.get(`https://food-delivery-api-n6as.onrender.com/v1/catalog/${t}`)).data.Data;c({id:t,name:x.name})}catch(n){console.log("Failed to fetch worker",n)}})()},[t]);const p=async o=>{o.preventDefault();try{await l.put(`https://food-delivery-api-n6as.onrender.com/v1/catalog/${t}`,{id:r.id,name:r.name},{headers:{"Content-Type":"application/json"}}),i.success("Работник успешно обновлен!"),m("/admin/workers")}catch(n){console.error("Ошибка при обновлении работника",n),i.error("Что-то пошло не так, попробуйте еще раз!")}};return e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx(_,{title:"Редактировать работника",headerBtn1:e.jsx(g,{to:"/admin/workers",style:{display:"flex",alignItems:"center",color:"red",gap:"10px",padding:"5px",borderRadius:"5px",fontSize:"16px",border:"1px solid red"},children:"Отменить"})}),e.jsx("form",{onSubmit:p,children:e.jsx(s,{className:a.categoriesAdd,children:e.jsx(s,{className:a.categoriesAdd__main_cont,children:e.jsxs(s,{className:a.categoriesAdd__cont,children:[e.jsx(s,{className:a.categoriesAdd__top,children:e.jsx("h1",{children:"Общие настройки"})}),e.jsxs(s,{className:a.categoriesAdd__bottom,children:[e.jsx(s,{className:a.categoriesAdd__bottom_lang,children:e.jsx(f,{})}),e.jsx(s,{className:a.categoriesAdd__upload_left}),e.jsxs(s,{className:a.categoriesAdd__right,children:[e.jsx(y,{type:"text",value:r.name,onChange:o=>c({...r,name:o.target.value}),placeholder:"Название..."}),e.jsx(b,{BgColor:"blue",type:"submit",BtnContent:"Сохранить"})]})]})]})})})})]})};export{w as default};
