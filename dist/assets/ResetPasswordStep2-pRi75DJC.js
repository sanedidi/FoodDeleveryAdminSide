import{u as g,j as t,B as m}from"./index-DSiRzrbg.js";import{u as x,b as f,A as S}from"./AuthInputPassword-B_mzlYOa.js";import{B as _,L as b,C as v}from"./LinkPage-B0GGgUPf.js";import{F as w}from"./index-C0teDyxI.js";import"./useMutation-CqTlZdcE.js";import"./utils-km2FGkQ4.js";import"./clsx-B-dksMZM.js";import"./chunk-DEQZ7DVA-L72d_YGu.js";const P="_title_1czou_1",j="_btnWrapper_1czou_10",l={title:P,btnWrapper:j},L=()=>{const s=g(),e=JSON.parse(localStorage.getItem("auth")),{register:o,handleSubmit:r,formState:{errors:i},setError:p}=x(),{mutate:d,isPending:h}=f();return{register:o,handleSubmit:r,formState:{errors:i},onSubmit:u=>{var n;d({...u,request_id:(n=e==null?void 0:e.data)==null?void 0:n.request_id},{onSuccess:()=>{s("Step3")},onError:a=>{var c;p("verify_code",{message:(c=a==null?void 0:a.response)==null?void 0:c.data})}})},isPending:h}},B="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clipPath='url(%23clip0_762_164)'%3e%3cpath%20d='M11%207L9.6%208.4L12.2%2011H2V13H12.2L9.6%2015.6L11%2017L16%2012L11%207ZM20%2019H12V21H22V3H12V5H20V19Z'%20fill='%23B0BABF'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_762_164'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",q=()=>{const{onSubmit:s,handleSubmit:e,register:o,isPending:r,formState:{errors:i}}=L();return t.jsxs(m,{children:[t.jsx("h1",{className:l.title,children:"Восстановление пароля"}),t.jsxs(w,{onSubmit:e(s),as:"form",children:[t.jsx(S,{label:"Код активации",id:"activationCode",src:B,minLength:6,maxLength:6,alt:"Код активации",placeholder:"Введите код активации",register:o,name:"verify_code",error:i.verify_code,required:!0}),t.jsxs(m,{className:l.btnWrapper,children:[t.jsx(_,{height:"60px",text:"Следующий шаг",isPending:r}),t.jsx(b,{text:"Вернуться назад",to:"/auth/resetPassword"})]}),t.jsx(v,{})]})]})};export{q as ResetPasswordStep2};
